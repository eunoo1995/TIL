# 📖 React

### 수업 정리

- prop-type의 단점은 오직 props만 타입 체크를 할 수 있다는 것이다. 하지만 모든 데이터를 props로 받는 것이 아니기 때문에 타입스크립트의 필요성이 대두된다. 큰 코드베이스에서의 타입 검사로는 부적절
- 타입스크립트는 리액트 뿐만 아니라 다른 라이브러리나 프레임워크에서도 사용할 수 있는 범용성을 가지기 때문에 사용이 권장된다.
- 타입스크립트에서 rest 파라미터같이 타입을 추론하여 지정할 수 없는 경우는 unknown이나 any타입을 사용하는 것이 나쁜 것이 아니다.

---

> **react 스타일링**

- css의 장점은 추가 학습이 필요없으나 단점으론 스코프 부재로 인한 이름 충돌 문제
- cass는 중첩 구조 등 추가적인 문법을 사용하여 강력하게 사용, 하지만 추가 학습이 필요, 퍼블리셔 코드 통합의 어려움
- css/sass 모듈은 번들러로 css-loader를 사용해야 함 순수 html에서 작동 불가, 이름 충돌 문제 해결
- css in js 는 컴포넌트 단위 개발이 용이하지만 퍼블리셔의 접근성이 낮음, 성능 이슈 (렌더링 지연) 발생
- styled 컴포넌트는 관례적으로 컴포넌트명.styled.jsx로 작성한다.
- 스타일드 컴포넌트는 서버사이드 렌더링에 어려움이 있어 이모션을 사용할 수도 있다. 플러그인을 깔면 지원할 수 있다.
- 스타일드 컴포넌트를 사용하면 비표준 속성이 html의 실제 돔에 들어가게 된다.
- ${}를 사용해 전달받은 props를 사용하여 실시간으로 조건부 css 처리가 가능해진다.
- 스타일드 컴포넌트를 사용하면 클래스를 두개 만들고 넣었다 뺐다 하는것이 아닌 조건부 처리가 가능해진다.
- 비표준 속성이 돔에 그려지지 않도록 $를 사용하여 일시 속성을 사용할 수 있고, 이는 요소에 어트리뷰트로 들어가지 않게 된다.

---

### 강의 정리

- react-query를 사용하면 비동기 로직에 대한 처리와 전역 상태 관리의 과정을 간소화하여 사용할 수 있다.
- react-query의 내장 API를 활용하여 데이터를 가공하고, 변경된 서버 데이터를 다시 받아와 리렌더링 하는 작업이 수월하다.
- 전역 상태 관리의 캐싱은 서버에 api 요청을 보내기 이전에 store에 저장된 값이 있는지를 먼저 확인한 후 있으면 그 값을 가지고 렌더링하고 없을 경우에 패치하는 방식
- react-query 의 useQuery로 패치한 값은 staleTime 옵션을 통해 리패치를 할지 말지 정할 수 있다.
- staleTime을 infinity로 지정하면 react-query가 캐싱하고 있는 데이터가 점점 많아져 무거워지게 된다. 이를 방지하기 위해 컴포넌트가 언마운트된 후 데이터의 캐싱 시간을 cacheTime을 통해 지정해줄 수 있고 디폴트 값은 5분이다.
- Suspense 컴포넌트는 코드를 불러오는 동안 로딩 상태를 선언적으로 지정할 수 있도록 해주는 컴포넌트이다.
- useMemo와 useCallback은 성능 최적화를 위해 사용하는 hook이다.
- 컴포넌트는 기본적으로 props나 state가 변경되었을 때 리렌더링이 발생하는데, 부모에게서 전달받은 props가 변경되지 않아도 자식 컴포넌트는 리렌더링이 발생한다.
- useMemo는 고비용 계산이 포함된 함수에 적용하여 계산된 결과 값을 메모이제이션을 통해 최적화를 할 수 있다.
- useCallback은 함수를 생성하는 것을 메모이제이션 하여 최적화를 할 수 있다.
