# 📖 오늘의 학습

## 이벤트

### 이벤트 드리븐 프로그래밍

> 브라우저는 특정 사건이 발생하면 이를 감지하여 이벤트를 발생시킨다. 이때 호출될 함수를 이벤트 핸들러라고 하고, 이벤트가 발생했을 때 브라우저에게 이벤트 핸들러의 호출을 위임하는 것을 이벤트 핸들러 등록이라고 한다. 이처럼 이벤트와 그에 대응하는 이벤트 핸들러를 통해 사용자와 어플리케이션은 상호작용 할 수 있다. 프로그램의 흐름을 이벤트 중심으로 제어하는 프로그래밍 방식을 이벤트 드리븐 프로그래밍이라 한다.

### 이벤트 타입

> 이벤트 타입은 이벤트의 종류를 나타내는 문자열이다. 이벤트 타입은 약 200여 가지가 있다.

### 이벤트 핸들러 등록

> 브라우저에게 이벤트 핸들러를 호출을 위임하는 것을 이벤트 핸들러 등록이라 하고 3가지 방법이 있다.

- 이벤트 핸들러 어트리뷰트 방식
  HTML 요소의 어트리뷰트 중에는 이벤트에 대응하는 이벤트 핸들러 어트리뷰트가 있다.
  이벤트 핸들러 어트리뷰트 값으로 함수 호출문 등 문을 할당하면 이벤트 핸들러가 등록된다.
  주의할 점은 함수 참조가 아닌 문을 할당하는 것, 암묵적으로 생성될 이벤트 핸들러의 함수 몸체를 의미
- 이벤트 핸들러 프로퍼티 방식
  DOM 노드 객체는 이벤트에 대응하는 이벤트 핸들러 프로퍼티를 가지고 있다.
  이벤트를 발생시킬 객체인 이벤트 타겟 , 이벤트 종류인 이벤트 타입, 그리고 이벤트 핸들러를 지정해야 한다.
  등록한 이벤트를 제거하려면 프로퍼티에 임의로 null 값을 넣어주어야 한다.
- addEventListener 메서드 방식
  이벤트타켓.addEventListener(’이벤트 타입',이벤트 핸들러,[캡쳐링 사용 여부]);
  세번째 인수로 넘겨주는 boolean 값은 이벤트 전파 캡쳐링 사용 여부를 지정한다.
  하나 이상의 이벤트 핸들러를 등록할 수 있다. 등록된 순서대로 호출된다.
  등록한 이벤트를 제거하고 싶은 경우 removeEventListener 메서드를 사용한다.
  등록 당시의 인수와 동일한 인수를 주어야만 이벤트가 제거된다.

### 이벤트 객체

> 이벤트가 발생하면 이벤트에 관련한 정보를 담고있는 이벤트 객체가 동적으로 생성되고 이 객체는 이벤트 핸들러의 첫번째 인수로 전달된다.

- 이벤트 핸들러 어트리뷰트 방식으로 등록한 이벤트 핸들러는 암묵적으로 생성될 때 암묵적으로 생성되는 첫번째 매개변수인 event에 이벤트 객체가 담기므로 어트리뷰트 값 내부에서 반드시 event로만 객체를 전달받을 수 있다.
- 이벤트 객체는 다양한 이벤트 종류의 생성자 함수에 의해 생성된다. 그리고 생성된 이벤트 객체는 프로토타입 체인의 일원이 된다.
- 이벤트 인터페이스 즉 Event.prototype에 정의되어 있는 이벤트 관련 프로퍼티는 모든 이벤트 객체에 상속되는 공통 프로퍼티이다.

### 이벤트 전파

> DOM 트리 상의 요소 노드에서 발생한 이벤트는 발생시킨 이벤트 타겟을 중심으로 DOM 트리를 통해 캡쳐링 단계, 타깃 단계, 버블링 단계로 전파된다. 이벤트는 이벤트 타깃은 물론 상위 DOM 요소에서도 캐치할 수 있다.

### 이벤트 위임

> 이벤트 전파를 통해 상위 DOM 요소에서도 이벤트를 캐치할 수 있다.이를 통해 하위 DOM 요소에 각각 이벤트를 등록하는 것이 아닌 상위 DOM 요소에 한번만 등록하는 방법을 이벤트 위임이라고 한다.

### DOM 요소의 기본 동작 조작

- 이벤트 객체.preventDefault() 메서드를 통해 요소의 기본 동작을 중단시킨다.
- 이벤트 객체.stopPropagation() 메서드를 통해 이벤트 전파를 중단시킨다.

# 💥 수업 정리

- 돔은 일관성이 없다. 사용하기 불편하다.
- 처음 만들어질 때 잘못 만들어져 보통 프레임워크나 라이브러리를 쓴다.
- 이벤트 등록 방법에 공식 명칭은 없다.
- 어트리뷰트 값 자리는 사실 문자열이기 때문에 인수를 전달할 때 문제가 생긴다.
- 전통적인 방식은 HTML,CSS, 자바스크립트가 각각 관심사가 다르다 생각했다.
- 현대의 CBD 방식은 위 세가지가 VIEW를 그리기 위한 같은 관심사를 가진다는 견해
- 리액트는 자바스크립트를 주축으로 html과 css를 자바스크립트가 포함하는 방식
- jquery가 모던 자바스크립트에서 안쓰이는 단점은? 자바스크립트가 HTML에 종속된다.
- jquery는 html, css의 디자인을 바꾸면 자바스크립트 로직에 영향을 주고 테스트를 다시 해야한다.
- 쿼리 셀렉터나 getElementById 등은 html, css에 종속적이라 자바스크립트 로직에 영향을 준다.
- 그렇기 때문에 DOM은 사용하지 않는다.
- 요소 객체와 일반 객체를 구별하기 위해 변수 앞에 $를 붙이는 경우가 많다.
- 무조건 addEventListener를 사용할 것
- 이벤트 핸들러 내부에는 this를 사용하지 않는 것이 좋다.
- 한글 키 업 이벤트 두 번 발생 이슈 isCompsing이 true일 때 return 해버리기
- 클릭 이벤트를 사용할 때는 대부분의 경우 걸러줘야 한다.
- DOM을 model로 사용하면 안된다. 서버를 항상 염두해두어야 한다.
- 정보를 가진 모델(자료구조)를 가지고 렌더링을 해야한다.
- MVC 패턴 알아보기!!! 프론트엔드의 관점에서의 MVC!!!

# 🤯 하루을 마치며…

오늘은 공부한 내용을 바탕으로 돔을 조작하고 이벤트를 관리하는 간단한 todos 페이지를 만드는 실습을 하였다.

처음 시작은 뭔가 각각의 todo들이 인스턴스라고 생각하여 class로 인스턴스들을 생성하고 추가하는 방식으로 구현하려 했지만 강사님께서 함수로 서버에서 받아오는 모델을 가지고 변경하는 방법으로 구현해보라고 하셨다. 돔을 자료구조로 사용하는 것이 아니고 서버에서 받아온 모델에 변경사항을 적용하여 다시 렌더링하고, 뷰에서의 변화를 모델에 적용하는 컨트롤러를 만들어보며 자바스크립트로 모델과 뷰를 관리하는 법에 대해 배울 수 있었다. 아직 함수형 프로그래밍이라던가 불필요한 변수 선언 등 고쳐나가야 할 부분이 많은 것 같고, 한 줄씩 코딩해가면서 왜 이렇게 짜야했는지 이유를 말할 수 있도록 연습해야겠다.
