# 📖 오늘의 학습

## DOM

> DOM은 HTML 문서의 계층적 구조와 정보를 표현, 제어할 수 있는 DOM API를 제공하는 트리 자료구조
> 

### 노드

- HTML 요소들은 렌더링 엔진에 의해 파싱되어 요소 노드 객체로 변환된다.
- 노드 객체들로 구성된 계층적 트리 자료구조가 DOM 트리이다.
- 노드 객체는 12개의 종류가 있다. 그 중 중요한 4가지
    1. 문서 노드 : 문서 노드는 DOM 트리의 최상위에 존재하는 루트 노드, document 객체를 가리킨다.
    2. 요소 노드 : HTML 요소를 가리키는 객체이다. 중첩에 의해 부자 관계를 가지므로 문서의 구조를 표현
    3. 어트리뷰트 노드 : 요소의 어트리뷰트를 가리키는 객체이다. 부모 노드와 연결 x 요소 노드로만 접근o
    4. 텍스트 노드 : 요소의 텍스트를 가리키는 객체이다. 요소 노드의 자식, 자식을 가질 수 없는 리프 노드이다.
- 노드 객체는 공통적인 상속이 있고, 자신의 종류에 따라 각각 해당하는 인터페이스들을 상속받는다.

### 요소 노드 취득

> HTML의 구조나 내용 또는 스타일 등을 동적으로 조작하려면 먼저 요소 노드를 취득해야 한다.
> 
- **id를 통한 요소 노드 취득**
    
    Document.prototype.getElementById(’id’) 메서드를 통해 인수로 전달한 id를 가진 요소 노드를 탐색하여 반환한다. id 값은 문서 내에서 유일한 값이여야 하지만 중복되어도 오류가 발생하지 않는다. 이 경우 첫 번째 요소 노드만 반환한다.
    
- **태그 이름을 이용한 요소 노드 취득** : getElementsByName(’태그’) 으로 태그 HTMLCollection 객체 반환
- **class를 이용한 요소 노드 취득** : getElementsByClassName(’클래스')로 HTMLCollection 객체 반환
- **CSS 선택자를 이용한 요소 노드 취득**
    - querySelector(’CSS 선택자’)로 만족하는 요소 1개 취득
    - querySelectorAll(’CSS 선택자’)로 NodeList 취득

### HTMLCollection / NodeList

> 두 컬랙션 객체 모두 여러개의 결과값을 반환하기 위한 객체이다. 모두 유사 배열 객체이면서 이터러블이다.
> 
- HTMLCollection
    
    객체의 상태 변화를 실시간으로 반영하는 살아있는! 객체이다.
    
    순회를 하며 요소에 변화를 줄 경우 부작용이 발생할 수 있다.
    
    이를 해결하기 위해 배열로 변환하여 순회하는 것이 좋다.
    
- NodeList
    
    querySelectorAll()로 반환되는 객체는 NodeList이다.
    
    대부분의 경우 살아있지 않은 객체이지만 childNodes 프로퍼티가 반환하는 NodeList는 살아있는 객체
    

> 안전하게 DOM 컬랙션을 사용하기 위해선 두 컬랙션 객체 모두 배열로 변환 후 사용하는 것이 좋다.
>

# 💥 수업 정리

- 돔은 일관성이 없다. 사용하기 불편하다.
- 처음 만들어질 때 잘못 만들어져 보통 프레임워크나 라이브러리를 쓴다.
- 이벤트 등록 방법에 공식 명칭은 없다.
- 어트리뷰트 값 자리는 사실 문자열이기 때문에 인수를 전달할 때 문제가 생긴다.
- 전통적인 방식은 HTML,CSS, 자바스크립트가 각각 관심사가 다르다 생각했다.
- 현대의 CBD 방식은 위 세가지가 VIEW를 그리기 위한 같은 관심사를 가진다는 견해
- 리액트는 자바스크립트를 주축으로 html과 css를 자바스크립트가 포함하는 방식
- jquery가 모던 자바스크립트에서 안쓰이는 단점은? 자바스크립트가 HTML에 종속된다.
- jquery는 html, css의 디자인을 바꾸면 자바스크립트 로직에 영향을 주고 테스트를 다시 해야한다.
- 쿼리 셀렉터나 getElementById 등은 html, css에 종속적이라 자바스크립트 로직에 영향을 준다.
- 그렇기 때문에 DOM은 사용하지 않는다.
- 요소 객체와 일반 객체를 구별하기 위해 변수 앞에 $를 붙이는 경우가 많다.
- 무조건 addEventListener를 사용할 것
- 이벤트 핸들러 내부에는 this를 사용하지 않는 것이 좋다.
- 한글 키 업 이벤트 두 번 발생 이슈 isCompsing이 true일 때 return 해버리기
- 클릭 이벤트를 사용할 때는 대부분의 경우 걸러줘야 한다.
- DOM을 model로 사용하면 안된다. 서버를 항상 염두해두어야 한다.
- 정보를 가진 모델(자료구조)를 가지고 렌더링을 해야한다.
- MVC 패턴 알아보기!!! 프론트엔드의 관점에서의 MVC!!!

# 🤯 하루을 마치며…

오늘은 공부한 내용을 바탕으로 돔을 조작하고 이벤트를 관리하는 간단한 todos 페이지를 만드는 실습을 하였다.

처음 시작은 뭔가 각각의 todo들이 인스턴스라고 생각하여 class로 인스턴스들을 생성하고 추가하는 방식으로 구현하려 했지만 강사님께서 함수로 서버에서 받아오는 모델을 가지고 변경하는 방법으로 구현해보라고 하셨다. 돔을 자료구조로 사용하는 것이 아니고 서버에서 받아온 모델에 변경사항을 적용하여 다시 렌더링하고, 뷰에서의 변화를 모델에 적용하는 컨트롤러를 만들어보며 자바스크립트로 모델과 뷰를 관리하는 법에 대해 배울 수 있었다. 아직 함수형 프로그래밍이라던가 불필요한 변수 선언 등 고쳐나가야 할 부분이 많은 것 같고, 한 줄씩 코딩해가면서 왜 이렇게 짜야했는지 이유를 말할 수 있도록 연습해야겠다.
