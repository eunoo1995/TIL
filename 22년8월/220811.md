# 📖 오늘의 학습

## 함수

### 함수란?

> 함수는 자바스크립트의 가장 중요한 핵심 개념이다.
>
> 스코프, 텍스트, 클로저, 생성자 함수,메서드, this, 프로토타입, 모듈화 등이
>
> 모두 함수와 깊은 관련이 있다.
>
> **일련의 과정을 문으로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의한 것이다.**

### 함수를 사용하는 이유

함수는 몇 번이든 호출할 수 있으므로 코드의 재사용 측면에서 매우 유용하다.

코드의 중복을 억제하고 재사용을 높이는 함수는 유지보수의 편의성과 코드의 신뢰성을 높이는 효과

> 함수 또한 변수명과 같이 적절한 이름을 지어 코드의 가독성을 향상시킬 수 있다.

### 함수 리터럴

> 자바스크립트에서 함수는 객체 타입의 값이다.

```jsx
let func = function add(x, y) {
  return x + y;
};

// 함수 이름, 매개변수 목록, 함수 몸체로 구성되어 있다.
```

함수는 일반 객체와 달리 호출을 할 수 있다.

### 함수 정의

> 함수를 정의하는 방법으로 선언문, 표현식, 생성자 함수, 화살표 함수 4가지가 있다.

- **함수 선언문**
  - 함수 선언문은 이름을 생략할 수 없다.
  - 함수 선언문은 표현식이 아닌 문이다.
  - 선언문으로 선언된 함수는 엔진이 생성된 함수를 호출하기 위한 식별자를 함수 이름과 동일한 이름으로 암묵적으로 생성하고 거기에 함수 객체를 할당한다.
  - 함수는 함수 이름이 안닌 식별자로 호출한다.
- **함수 표현식**
  - 자바스크립트의 함수는 값의 성질을 갖는 일급 객체이다.
  - 객체이기 때문에 함수 리터럴로 생성한 함수 객체를 변수에 할당할 수 있다.
  - 표현식의 함수 리터럴은 함수 이름을 생략하는 것이 일반적이다.
  - 함수 이름은 함수 내부에서만 유효한 식별자이므로 이름으로 호출할 수 없다.
- **함수의 생성 시점과 함수 호이스팅**
  - 선언문으로 생성된 함수는 표현식이 아닌 문으로 런타임 이전에 생성되어 호이스팅이 발생해 하단에 선언하여도 선두로 끌어 올려진 것 처럼 함수를 사용할 수 있다.
  - 표현식으로 생성되는 함수는 변수가 먼저 생성된 후 런타임에 식을 평가하여 만들어진 객체를 변수에 할당하므로 변수 호이스팅이 발생한다.
  > 함수 선언문은 호이스팅을 발생시켜 혼란을 야기하므로 표현식을 사용할 것을 권장한다.
- **Function 생성자 함수**
  - 빌트인 생성자 함수에 매개변수 목록과 함수 몸체를 ‘문자열'로 전달하여 new 연산자와 함께 호출하면 함수 객체를 생성하여 반환한다. new 생략 가능
  - 클로저를 생성하지 않는 등 일반적이지 않게 동작한다.
- **화살표 함수**
  - 화살표 함수는 항상 익명 함수, 표현이 간략해진 만큼 내부 동작 또한 간략화 되었다.
  - 생성자 함수로 사용 불가, this 바인딩, prototype과 arguments 객체가 존재하지 않는다.

### 함수 호출

- **매개변수와 인수**
  - 함수 외부에서 내부로 값을 전달할 경우, 매개변수를 통해 인수를 전달한다.
  - 인수는 값으로 평가될 수 있는 표현식이어야 하고, 개수와 타입에 제한이 없다.
- **인수 확인**
  - 매개변수와 인수의 개수 일치 확인하지 않는다 / 매개변수 기본값을 사용해 간소화 가능
  - 매개변수의 타입을 미리 지정할 수 없다. 함수 내부에서 체크 또는 타입스크립트 사용
- **매개변수의 최대 개수**
  - 이상적인 매개변수의 개수는 0개이며 적을수록 좋다. 매개변수가 많다는 것은 하는 일이 많다는 것으로 바람직하지 않다. 이상적인 함수는 한 가지 일만 해야 하며 가급적 작게 만들어야 한다.
  - 매개변수가 3개 이상이 되는 경우 객체를 인수로 전달하는 것이 좋다. 매개변수의 순서를 고려할 필요가 없고 프로퍼티 키를 사용하게 되므로 가독성도 좋아진다. 하지만 부수 효과가 발생할 수 있어 주의가 필요하다.
- **반환문**
  - return 키워드와 반환값으로 이루어진 반환문을 사용해 함수 외부로 반환할 수 있다.
  - 함수 호출은 표현식이므로 리턴 된 값으로 평가된다.
  - return 뒤에 표현식을 생략하거나, 반환문 전체를 생략할 경우 undefined로 평가된다.

### 참조에 의한 전달과 외부 상태의 변경

- 원시 값의 경우 변경 불가능한 값이므로 함수 내부에서 변경 시 재할당 된 새로운 원시 값으로 교체
- 객체는 변경 가능한 값으로 직접 변경이 가능하므로 부수 효과가 발생하여 추적이 어려워진다.
- 옵저버 패턴 등을 통해 객체를 참조하는 모든 이들에게 변경을 통지하거나 불변 객체를 만들어 사용하여 해결할 수 있다.

### 다양한 함수의 형태

- **즉시 실행 함수**
  - 정의와 동시에 즉시 호출되어 다시 호출할 수 없다.
  - 중복된 변수나 함수 이름의 충돌을 방지할 수 있다.
- **재귀 함수**
  - 재귀 함수는 자기 자신을 호출하는 것이다.
  - 식별자 또는 함수 이름을 사용해 호출할 수 있다.
  - 자기 자신을 무한으로 호출하므로 탈툴 조건을 걸어 빠져나가야 한다.
  - 스택 오버플로의 위험이 있으므로 반복문보다 직관적으로 이해하기 쉬울 때만 사용!
- **중첩 함수**
  - 함수의 내부에 정의된 함수를 중첩 함수 또는 내부 함수라고 부른다.
  - 선언된 함수 내부에서만 호출할 수 있고, 외부 함수를 돕는 헬퍼 함수의 역할을 한다.
- **콜백 함수**
  - 함수의 매개변수를 통해 다른 함수의 내부로 전달되는 함수를 콜백 함수라고 한다.
  - 외부에서 콜백 함수를 전달받은 함수를 고차 함수라고한다.
  - 고차 함수는 콜백 함수를 자신의 일부로 합성하고, 호출 시점을 결정하여 호출한다.
  - 익명 함수 리터럴을 이용해 고차함수의 매개변수로 바로 전달하는 것이 일반적이다.
- **순수 함수와 비순수 함수**
  - 순수 함수는 부수 효과가 없는, 동일한 인수로 동일한 값을 반환하는 함수이다.
  - 비순수 함수는 외부 상태에 의존하거나 외부 상태를 변경하는 함수이다.

# 💥 수업 정리

- 자바스크립트는 멀티 페러다임의 언어, 명령형, 객체 지향, 함수형 프로그래밍
- 여러 기법을 섞어 쓰기때문에 온전한 순수 함수로 프로그래밍을 하기 힘들다.
- 함수형 프로그래밍의 순수 함수는 외부의 상태를 고려하지 않는 것 기반
- 모든 것을 순수 함수로 만드는 것은 불가능, 지향하는 것이 목표
- 프로그래밍의 본질은 부수 효과에 있다.
- 함수형 프로그래밍이란 어떤 컨셉? → 순수와 비순수를 분리하는 것에 초점
- 순수 함수는 테스트에 용의하다.
- 일급 객체란 함수가 객체다 라는 것을 의미, 즉 함수는 값이다.
- 콜백 함수는 함수형 프로그래밍의 가장 기본
- 함수 리터럴이 평가되면 함수 객체가 만들어진다.
- 객체 지향이 상속에 의존한다면, 함수형은 함수와 함수를 조합하여 사용하는 것
- 우리가 만드는 함수들은 다 비순수 함수 안에서 동작 ( 이벤트 핸들러 )
- 이벤트 핸들러는 브라우저에 의해서 실행된다. 콜백함수와 차이
- 콜백 함수는 고차 함수가 내부에서 실행되는 함수
- 공통 로직을 분리하여 재사용하기 위해 콜백 함수 사용
- 값을 재사용 하기 위한 것이 변수
- 함수는 로직을 재사용하기 위해 사용
- 유지보수하기 좋은 코드를 고민해야 한다 (가독성)
- 식별자는 값? 참조값?
- 변수명 < 식별자, 식별자는 폭 넓은 개념이다.
- html의 id 와 class의 차이? id가 여러개 선언되어도 에러가 발생하는가?
- undefined의 메모리 크기는 모른다. 사양에 명시되어 있지 않아 브라우저마다 상이
- 아스키코드??? 몇 바이트?? 추가 공부 해볼 것
- 정수와 실수를 표현하는 방식은 다르다 추가 공부 해볼 것
- 유의미한 데이터의 최소 단위가 1바이트
- 식별자와 메모리 주소가 매핑된 정보가 어딘가에 저장되어 있다. 그걸 통해 값을 참조
- 값이 주소를 가지는 것이 아닌 식별자가 값이 저장 된 메모리의 주소를 알고 있다.
- var test = 10; ⇒ 일반적으로 얘기할 때는 초기화라고 얘기한다. 사실 재할당이지만.
- 원시 값과 객체의 차이는 값 그자체를 가르키는가 참조값을 가르키는가의 차이
- 객체를 만들어내는 비용이 원시 값 보다 크기 때문에 객체는 변경 가능한 값으로 만들어짐
- 최신 버전의 ES로 진행될수록 원본을 변경하지 않는 방향의 함수들이 등장
- 제어문은 코드의 흐름을 인위적으로 제어할 수 있다. ( 복잡성 증가 가독성을 헤친다. )
- 반복문의 for 문은 알고리즘 문제 말고 실무에선 지양하는 것이 좋다.
- 함수보다 표현식의 방법이 쉽다.
- 깊은 복사의 방법 중 stringify를 사용하면 메서드를 카피할 수 없다.
- 깊은 복사는 라이브러리를 사용하는게 좋다. 학습용으로 만들어보는건 가능
- 함수 선언문과 함수 표현식 둘 중 하나로 일관되게 상용한다면 뭘 써도 무관
- new 키워드를 생략한 생성자 함수를 이용한 타입 변환은 일종의 꼼수
- 즉시실행 함수는 클로저를 만들기 위해 사용한다.
- 선언은 자바스크립트 엔진에 식별자를 알린다.
- 프로퍼티는 프로토타입 체인에서 찾는다.
- 많이 사용되는 원시값은 엔진이 메모리 공간에 상수 값을 만들어 놓는다.
- 브라우저의 heap 영역에 객체가 들어온다.

# 🤯 하루을 마치며…

오늘 러버덕을 진행하며 함수에 대한 깊은 이해를 할 수 있는 시간을 가질 수 있었다. 또한 함수가 일급 객체이므로변수에 할당되는 과정이나, 값으로 사용되어지는 것에 대한 이해를 할 수 있었다. 또 함수 호이스팅과 변수 호이스팅에 차이와, 함수의 종류 등 몰랐던 내용에 대해 서로 의논해보며 이론적인 부분이 머리에 들어올 수 있도록 노력했고, 수업 때 발표와 강사님의 정리를 통해 한번 더 숙지할 수 있었다. 조금 더 적극적인 자세로 틀리더라도 발표도 하고 질문도 하면서 내가 뭘 알고 모르는지에 대하여 숙지하고 개선해나가기 위해 내일도 열심히 해야겠다.
