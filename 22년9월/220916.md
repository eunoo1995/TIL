# 📖 딥다이브 복습 러버덕

## this

### this 키워드

> 동작을 나타내는 메서드는 자신이 속한 객체의 프로퍼티를 변경할 수 있어야 한다. 이때 자신이 속한 객체의 프로퍼티를 참조하기 위해 먼저 자신이 속한 객체를 가리키는 식별자를 참조할 수 있어야 함

- this는 자신이 속한 객체 또는 자신이 생성할 인스턴스를 가리키는 자기 참조 변수다.
- this가 가리키는 값, 즉 this 바인딩은 함수 호출 방식에 의해 동적으로 결정된다.

### 함수 호출 방식과 this 바인딩

- **일반 함수 호출**
  일반 함수로 호출하면 함수 내부의 this에는 전역 객체가 바인딩된다.
  strict mode가 적용된 일반 함수 내부의 this는 undefined가 바인딩 된다.
  중첩 함수, 콜백 함수도 일반 함수로 호출 되면 내부의 this에는 전역 객체가 바인딩
- **메서드 호출**
  메서드 내부의 this는 메서드를 호출한 객체, 즉 호출할 때 . 앞에 기술한 객체가 바인딩
  메서드를 소유한 객체가 아닌 호출한 객체가 바인딩된다.
  프로토타입 메서드 내부의 this도 호출한 객체에 바인딩된다.
- **생성자 함수 호출**
  생성자 함수 내부의 this는 미래에 생성할 인스턴스가 바인딩된다.
- **Function.prototype.apply/call/bind 메서드에 의한 간접 호출**
  apply/call 메서드는 함수를 호출한다.
  첫번째 인수로 this로 사용할 객체, 이후는 함수에게 전달할 인수를 넘겨준다.
  대표적인 용도는 arguments 객체와 같은 유사 배열 객체에 배열 메서드를 적용할 때
  bind 메서드는 함수를 호출하지 않고 인자로 준 값으로 this를 바인딩한 함수를 반환한다.

## 실행 컨텍스트

### 소스코드의 타입

- 전역 코드
  전역 코드는 전역 변수 관리를 위해 최상위 스코프인 전역 스코프를 생성한다.
  전역 실행 컨텍스트를 생성한다.
- 함수 코드
  지역 스코프를 생성하고 지역 변수, 매개변수, arguments 객체를 관리하기 위해 함수 실행 컨텍스트를 생성한다.
- eval 코드
  eval 코드는 strict mode에서 자신만의 스코프를 생성한다. 이를 위해 eval 실행 컨텍스트가 생성
- 모듈 코드
  모듈 코드는 모듈별로 독립적인 모듈 스코프를 생성한다. 이를 위해 모듈 실행 컨텍스트 생성

### 소스코드의 평가와 실행

> 모든 소스코드는 실행하기 전 평가 과정을 거치며 실행을 위한 준비를 한다.

### 실행 컨텍스트의 역할

> 코드가 실행되려면 스코프, 식별자, 코드 실행 순서 등의 관리가 필요하다. 실행 컨텍스틑 소스코드를 실행하는 데 필요한 환경을 제공하고 코드 실행 결과를 실제로 관리하는 영역이다. 식별자와 스코프는 렉시컬 환경으로, 실행 순서는 실행 컨텍스트 스택으로 관리한다.

- 선언에 의해 생성된 모든 식별자를 스코프로 구분하여 등록하고 상태 변화를 지속적으로 관리할 수 있어야 한다.
- 스코프는 중첩 관계에 의해 스코프 체인을 형성해야 한다.
- 현재 실행 중인 코드의 실행 순서를 변경할 수 있어야 하며 다시 되돌아갈 수도 있어야 한다.

### 실행 컨텍스트 스택

> 실행 컨텍스트는 스택 자료구조로 관리된다. 이를 실행 컨텍스트 스택이라 부른다.

실행 컨텍스트의 최상위에 존재하는 실행 컨텍스트는 언제나 현제 실행 중인 코드의 실행 컨텍스트다.

따라서 스택의 최상위에 존재하는 실행 컨텍스트를 실행 중인 실행 컨텍스트라고 부른다.

### 렉시컬 환경

> 렉시컬 환경은 식별자와 값 그리고 상위 스코프에 대한 참조를 기록하는 자료구조로 실행 컨텍스트를 구성하는 컴포넌트이다. 렉시컬 환경은 스코프와 식별자를 관리한다.

렉시컬 환경은 두 개의 컴포넌트로 구성된다.

- 환경 레코드
  스코프에 식별자를 등록하고 등록된 식별자에 바인딩된 값을 관리하는 저장소다.
  소스코드의 타입에 따라 차이가 있다.
- 외부 렉시컬 환경에 대한 참조
  상위 스코프를 가리킨다. 이때 상위 스코프란 외부 렉시컬 환경, 즉 해당 실행 컨텍스트를 생성한 소스코드를 포함하는 상위 코드의 렉시컬 환경을 말한다. 단방향 링크드 리스트로 스코프 체인을 구현

# 💥 페어 프로그래밍

### 1.ScrollingGotoTop

- window.scroll 메서드를 이용해 원하는 좌표로 이동할 수 있는 것을 알았다. (옵션으로 움직임 설정 가능)
- 최소거리를 상수로 선언하여 코드의 가독성을 높였다.

### 2.Counter, 3.IsPalindrome

- 전역에 널부러진 로직들을 하나로 묶어주어 클로저를 활용하여 전역에서 알 필요 없는 값을 숨기고 필요한 정보만을 반환하여 사용하도록 개선하였다. 모듈로 동작하는 파일이 아닐 경우 하나로 묶어주어 전역과 분리해주고 로직을 하나로 모아주는 것이 좋다!

# 🤯 하루을 마치며…

첫 번째 페어 프로그래밍 미션을 모두 구현하였다! 구현에 목표를 두고 만들어 리펙토링이 필요한 부분이 상당히 많이 존재하고, 어떻게 바꾸어야 좋은 코드가 되는지에 대한 부분이 상당히 고민된다. 1~3번까지를 강사님께서 잠깐 봐주셨는데 전혀 생각하지 못한 부분에 대한 수정이 있어서 뒷통수를 맞은 것 같았다. 아직 갈 길이 많이 멀다는 것을 느꼈고 어떤것이 좋은 코드인가에 대한 나의 기준이 있어야할 것 같다. 다음 주 동안 구현한 코드를 어떻게 하면 더 좋은 코드로 발전시킬 수 있을지에 대해 조원들과 함께 고민해보아야겠다.
